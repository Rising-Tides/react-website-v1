{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\seins\\\\Documents\\\\GitHub\\\\react-website-v1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\seins\\\\Documents\\\\GitHub\\\\react-website-v1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkFlow = void 0;\n\nvar preact_1 = require(\"preact\");\n\nvar rxjs_1 = require(\"rxjs\");\n\nvar TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\n\nvar LinkFlow = /*#__PURE__*/function () {\n  function LinkFlow(options) {\n    _classCallCheck(this, LinkFlow);\n\n    this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n    this.subscriptions = new rxjs_1.Subscription();\n    this.isConnected = false;\n    this.isOpen = false;\n    this.onCancel = null;\n    this.root = null; // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n\n    this.connectDisabled = false;\n    this.darkMode = options.darkMode;\n    this.version = options.version;\n    this.sessionId = options.sessionId;\n    this.sessionSecret = options.sessionSecret;\n    this.linkAPIUrl = options.linkAPIUrl;\n    this.isParentConnection = options.isParentConnection;\n    this.connected$ = options.connected$;\n  }\n\n  _createClass(LinkFlow, [{\n    key: \"attach\",\n    value: function attach(el) {\n      var _this = this;\n\n      this.root = document.createElement(\"div\");\n      this.root.className = \"-cbwsdk-link-flow-root\";\n      el.appendChild(this.root);\n      this.render();\n      this.subscriptions.add(this.connected$.subscribe(function (v) {\n        if (_this.isConnected !== v) {\n          _this.isConnected = v;\n\n          _this.render();\n        }\n      }));\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var _a;\n\n      if (!this.root) {\n        return;\n      }\n\n      this.subscriptions.unsubscribe();\n      (0, preact_1.render)(null, this.root);\n      (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n  }, {\n    key: \"setConnectDisabled\",\n    value: function setConnectDisabled(connectDisabled) {\n      this.connectDisabled = connectDisabled;\n    }\n  }, {\n    key: \"open\",\n    value: function open(options) {\n      this.isOpen = true;\n      this.onCancel = options.onCancel;\n      this.render();\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.isOpen = false;\n      this.onCancel = null;\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.root) {\n        return;\n      }\n\n      var subscription = this.extensionUI$.subscribe(function () {\n        if (!_this2.root) {\n          return;\n        }\n\n        (0, preact_1.render)((0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, {\n          darkMode: _this2.darkMode,\n          version: _this2.version,\n          sessionId: _this2.sessionId,\n          sessionSecret: _this2.sessionSecret,\n          linkAPIUrl: _this2.linkAPIUrl,\n          isOpen: _this2.isOpen,\n          isConnected: _this2.isConnected,\n          isParentConnection: _this2.isParentConnection,\n          onCancel: _this2.onCancel,\n          connectDisabled: _this2.connectDisabled\n        }), _this2.root);\n      });\n      this.subscriptions.add(subscription);\n    }\n  }]);\n\n  return LinkFlow;\n}();\n\nexports.LinkFlow = LinkFlow;","map":{"version":3,"sources":["C:/Users/seins/Documents/GitHub/react-website-v1/node_modules/@coinbase/wallet-sdk/dist/components/LinkFlow.js"],"names":["Object","defineProperty","exports","value","LinkFlow","preact_1","require","rxjs_1","TryExtensionLinkDialog_1","options","extensionUI$","BehaviorSubject","subscriptions","Subscription","isConnected","isOpen","onCancel","root","connectDisabled","darkMode","version","sessionId","sessionSecret","linkAPIUrl","isParentConnection","connected$","el","document","createElement","className","appendChild","render","add","subscribe","v","_a","unsubscribe","parentElement","removeChild","subscription","h","TryExtensionLinkDialog"],"mappings":"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","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.linkAPIUrl = options.linkAPIUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-cbwsdk-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$.subscribe(() => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)((0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, linkAPIUrl: this.linkAPIUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel, connectDisabled: this.connectDisabled }), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n"]},"metadata":{},"sourceType":"script"}