{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { SafeEventEmitter } from '@toruslabs/openlogin-jrpc';\nimport { ADAPTER_STATUS, log, CHAIN_NAMESPACES, WalletInitializationError, storageAvailable, getChainConfig, ADAPTER_NAMESPACES, WalletLoginError, ADAPTER_EVENTS } from '@web3auth/base';\nimport { PLUGIN_NAMESPACES } from '@web3auth/base-plugin';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nconst ADAPTER_CACHE_KEY = \"Web3Auth-cachedAdapter\";\n\nclass Web3AuthCore extends SafeEventEmitter {\n  constructor(options) {\n    var _options$chainConfig, _options$chainConfig2, _options$chainConfig3, _options$chainConfig4;\n\n    super();\n\n    _defineProperty(this, \"coreOptions\", void 0);\n\n    _defineProperty(this, \"connectedAdapterName\", null);\n\n    _defineProperty(this, \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(this, \"cachedAdapter\", null);\n\n    _defineProperty(this, \"walletAdapters\", {});\n\n    _defineProperty(this, \"plugins\", {});\n\n    if (options.enableLogging) log.enableAll();else log.disableAll();\n    if (!((_options$chainConfig = options.chainConfig) !== null && _options$chainConfig !== void 0 && _options$chainConfig.chainNamespace) || !Object.values(CHAIN_NAMESPACES).includes((_options$chainConfig2 = options.chainConfig) === null || _options$chainConfig2 === void 0 ? void 0 : _options$chainConfig2.chainNamespace)) throw WalletInitializationError.invalidParams(\"Please provide a valid chainNamespace in chainConfig\");\n    this.cachedAdapter = storageAvailable(\"sessionStorage\") ? window.sessionStorage.getItem(ADAPTER_CACHE_KEY) : null;\n    this.coreOptions = _objectSpread(_objectSpread({}, options), {}, {\n      chainConfig: _objectSpread(_objectSpread({}, getChainConfig((_options$chainConfig3 = options.chainConfig) === null || _options$chainConfig3 === void 0 ? void 0 : _options$chainConfig3.chainNamespace, (_options$chainConfig4 = options.chainConfig) === null || _options$chainConfig4 === void 0 ? void 0 : _options$chainConfig4.chainId)), options.chainConfig)\n    });\n    this.subscribeToAdapterEvents = this.subscribeToAdapterEvents.bind(this);\n  }\n\n  get provider() {\n    if (this.status === ADAPTER_STATUS.CONNECTED && this.connectedAdapterName) {\n      const adapter = this.walletAdapters[this.connectedAdapterName];\n      return adapter.provider;\n    }\n\n    return null;\n  }\n\n  set provider(_) {\n    throw new Error(\"Not implemented\");\n  }\n\n  async init() {\n    const initPromises = Object.keys(this.walletAdapters).map(adapterName => {\n      this.subscribeToAdapterEvents(this.walletAdapters[adapterName]); // if adapter doesn't have any chain config yet thn set it based on provided namespace and chainId.\n      // if no chainNamespace or chainId is being provided, it will connect with mainnet.\n\n      if (!this.walletAdapters[adapterName].chainConfigProxy) {\n        const providedChainConfig = this.coreOptions.chainConfig;\n        if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n\n        const chainConfig = _objectSpread(_objectSpread({}, getChainConfig(providedChainConfig.chainNamespace, providedChainConfig.chainId)), providedChainConfig);\n\n        this.walletAdapters[adapterName].setChainConfig(chainConfig);\n      }\n\n      return this.walletAdapters[adapterName].init({\n        autoConnect: this.cachedAdapter === adapterName\n      }).catch(e => log.error(e));\n    });\n    this.status = ADAPTER_STATUS.READY;\n    await Promise.all(initPromises);\n  }\n\n  configureAdapter(adapter) {\n    this.checkInitRequirements();\n    const providedChainConfig = this.coreOptions.chainConfig;\n    if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n    const adapterAlreadyExists = this.walletAdapters[adapter.name];\n    if (adapterAlreadyExists) throw WalletInitializationError.duplicateAdapterError(\"Wallet adapter for \".concat(adapter.name, \" already exists\"));\n    if (adapter.adapterNamespace !== ADAPTER_NAMESPACES.MULTICHAIN && adapter.adapterNamespace !== providedChainConfig.chainNamespace) throw WalletInitializationError.incompatibleChainNameSpace(\"This wallet adapter belongs to \".concat(adapter.adapterNamespace, \" which is incompatible with currently used namespace: \").concat(providedChainConfig.chainNamespace));\n\n    if (adapter.adapterNamespace === ADAPTER_NAMESPACES.MULTICHAIN && adapter.currentChainNamespace && providedChainConfig.chainNamespace !== adapter.currentChainNamespace) {\n      // chainConfig checks are already validated in constructor so using typecast is safe here.\n      adapter.setChainConfig(providedChainConfig);\n    }\n\n    this.walletAdapters[adapter.name] = adapter;\n    return this;\n  }\n\n  clearCache() {\n    if (!storageAvailable(\"sessionStorage\")) return;\n    window.sessionStorage.removeItem(ADAPTER_CACHE_KEY);\n    this.cachedAdapter = null;\n  }\n  /**\n   * Connect to a specific wallet adapter\n   * @param walletName - Key of the walletAdapter to use.\n   */\n\n\n  async connectTo(walletName, loginParams) {\n    if (!this.walletAdapters[walletName]) throw WalletInitializationError.notFound(\"Please add wallet adapter for \".concat(walletName, \" wallet, before connecting\"));\n    const provider = await this.walletAdapters[walletName].connect(loginParams);\n    return provider;\n  }\n\n  async logout() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      cleanup: false\n    };\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(\"No wallet is connected\");\n    await this.walletAdapters[this.connectedAdapterName].disconnect(options);\n  }\n\n  async getUserInfo() {\n    log.debug(\"Getting user info\", this.status, this.connectedAdapterName);\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(\"No wallet is connected\");\n    return this.walletAdapters[this.connectedAdapterName].getUserInfo();\n  }\n\n  async addPlugin(plugin) {\n    if (this.plugins[plugin.name]) throw new Error(\"Plugin \".concat(plugin.name, \" already exist\"));\n    if (plugin.pluginNamespace !== PLUGIN_NAMESPACES.MULTICHAIN && plugin.pluginNamespace !== this.coreOptions.chainConfig.chainNamespace) throw new Error(\"This plugin belongs to \".concat(plugin.pluginNamespace, \" namespace which is incompatible with currently used namespace: \").concat(this.coreOptions.chainConfig.chainNamespace));\n    this.plugins[plugin.name] = plugin;\n    await plugin.initWithWeb3Auth(this);\n    return this;\n  }\n\n  subscribeToAdapterEvents(walletAdapter) {\n    walletAdapter.on(ADAPTER_EVENTS.CONNECTED, async data => {\n      this.status = ADAPTER_STATUS.CONNECTED;\n      this.connectedAdapterName = data.adapter;\n      this.cacheWallet(data.adapter);\n      log.debug(\"connected\", this.status, this.connectedAdapterName);\n      await Promise.all(Object.values(this.plugins).map(plugin => {\n        return plugin.connect().catch(error => {\n          // swallow error if connector adapter doesn't supports this plugin.\n          if (error.code === 5211) {\n            return;\n          } // throw error;\n\n\n          log.error(error);\n        });\n      }));\n      this.emit(ADAPTER_EVENTS.CONNECTED, _objectSpread({}, data));\n    });\n    walletAdapter.on(ADAPTER_EVENTS.DISCONNECTED, async data => {\n      // get back to ready state for rehydrating.\n      this.status = ADAPTER_STATUS.READY;\n\n      if (storageAvailable(\"sessionStorage\")) {\n        const cachedAdapter = window.sessionStorage.getItem(ADAPTER_CACHE_KEY);\n\n        if (this.connectedAdapterName === cachedAdapter) {\n          this.clearCache();\n        }\n      }\n\n      log.debug(\"disconnected\", this.status, this.connectedAdapterName);\n      await Promise.all(Object.values(this.plugins).map(plugin => {\n        return plugin.disconnect().catch(error => {\n          // swallow error if adapter doesn't supports this plugin.\n          if (error.code === 5211) {\n            return;\n          } // throw error;\n\n\n          log.error(error);\n        });\n      }));\n      this.connectedAdapterName = null;\n      this.emit(ADAPTER_EVENTS.DISCONNECTED, data);\n    });\n    walletAdapter.on(ADAPTER_EVENTS.CONNECTING, data => {\n      this.status = ADAPTER_STATUS.CONNECTING;\n      this.emit(ADAPTER_EVENTS.CONNECTING, data);\n      log.debug(\"connecting\", this.status, this.connectedAdapterName);\n    });\n    walletAdapter.on(ADAPTER_EVENTS.ERRORED, data => {\n      this.status = ADAPTER_STATUS.ERRORED;\n      this.clearCache();\n      this.emit(ADAPTER_EVENTS.ERRORED, data);\n      log.debug(\"errored\", this.status, this.connectedAdapterName);\n    });\n    walletAdapter.on(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, data => {\n      log.debug(\"adapter data updated\", data);\n      this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, data);\n    });\n  }\n\n  checkInitRequirements() {\n    if (this.status === ADAPTER_STATUS.CONNECTING) throw WalletInitializationError.notReady(\"Already pending connection\");\n    if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletInitializationError.notReady(\"Already connected\");\n    if (this.status === ADAPTER_STATUS.READY) throw WalletInitializationError.notReady(\"Adapter is already initialized\");\n  }\n\n  cacheWallet(walletName) {\n    if (!storageAvailable(\"sessionStorage\")) return;\n    window.sessionStorage.setItem(ADAPTER_CACHE_KEY, walletName);\n    this.cachedAdapter = walletName;\n  }\n\n}\n\nexport { Web3AuthCore };","map":{"version":3,"mappings":"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","names":["ADAPTER_CACHE_KEY","Web3AuthCore","SafeEventEmitter","constructor","options","_defineProperty","ADAPTER_STATUS","NOT_READY","enableLogging","log","enableAll","disableAll","chainConfig","chainNamespace","Object","values","CHAIN_NAMESPACES","includes","_options$chainConfig2","WalletInitializationError","invalidParams","cachedAdapter","storageAvailable","window","sessionStorage","getItem","coreOptions","_objectSpread","getChainConfig","_options$chainConfig3","_options$chainConfig4","chainId","subscribeToAdapterEvents","bind","provider","status","CONNECTED","connectedAdapterName","adapter","walletAdapters","_","Error","init","initPromises","keys","map","adapterName","chainConfigProxy","providedChainConfig","setChainConfig","autoConnect","catch","e","error","READY","Promise","all","configureAdapter","checkInitRequirements","adapterAlreadyExists","name","duplicateAdapterError","adapterNamespace","ADAPTER_NAMESPACES","MULTICHAIN","incompatibleChainNameSpace","currentChainNamespace","clearCache","removeItem","connectTo","walletName","loginParams","notFound","connect","logout","arguments","cleanup","WalletLoginError","notConnectedError","disconnect","getUserInfo","debug","addPlugin","plugin","plugins","pluginNamespace","PLUGIN_NAMESPACES","initWithWeb3Auth","walletAdapter","on","ADAPTER_EVENTS","data","cacheWallet","code","emit","DISCONNECTED","CONNECTING","ERRORED","ADAPTER_DATA_UPDATED","notReady","setItem"],"sources":["../src/core.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}